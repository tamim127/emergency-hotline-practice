<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Hotline</title>

    <!-- tailwind css -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- font Awesome cdn -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />

    <!-- daisy ui -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
</head>
<body class="p-10">

    <!-- Coin Section -->
    <p class="mb-4">Coins: <span id="coin-count">100</span></p>

    <!-- Card -->
    <div class="p-5 bg-white rounded-xl shadow-xl">
        <h1 class="font-bold text-[24px]">Fire Service Number</h1>
        <p class="font-bold text-[36px]" id="argent-num">101</p>
        <button class="btn call-btn bg-green-600 text-white mt-4">
            <i class="fa-solid fa-phone"></i> Call
        </button>
    </div>

    <!-- Call History Section -->
    <div class="mt-6">
        <div class="flex items-center justify-between">
            <h2 class="font-bold text-xl">ðŸ“ž Call History</h2>
            <button id="clear-history" class="px-3 py-1 bg-red-500 text-white rounded">
                Clear History
            </button>
        </div>
        <ul id="call-history" class="list-disc pl-5 space-y-1 mt-2"></ul>
    </div>


    <script>
        const callBtn = document.getElementsByClassName("call-btn");

        for (let btn of callBtn) {
            btn.addEventListener("click", function () {
                // coin logic
                const coinCount = document.getElementById("coin-count");
                let coin = parseInt(coinCount.innerText);
                const coinCost = 20;

                if (coin < coinCost) {
                    alert("âŒ Not enough coins!");
                    return; // stop here
                }

                // coin à¦•à¦®à¦¾à¦¨à§‹
                coinCount.innerText = coin - coinCost;

                // card à¦¥à§‡à¦•à§‡ à¦¤à¦¥à§à¦¯ à¦¬à§‡à¦° à¦•à¦°à¦¾
                const card = btn.closest("div.p-5");
                const title = card.querySelector("h1").innerText;
                const number = card.querySelector("#argent-num").innerText;

                // alert à¦¦à§‡à¦–à¦¾à¦¨à§‹
                alert(`ðŸ“ž Calling ${title} (${number})`);

                // Call History à¦¤à§‡ à¦¯à§‹à¦— à¦•à¦°à¦¾
                const history = document.getElementById("call-history");
                const li = document.createElement("li");
                li.innerText = `${title} - ${number}`;
                history.appendChild(li);
            });
        }

        // Clear History Button
        document.getElementById("clear-history").addEventListener("click", function () {
            const history = document.getElementById("call-history");
            history.innerHTML = ""; // à¦¸à¦¬ à¦®à§à¦›à§‡ à¦«à§‡à¦²à¦¾
        });
    </script>
</body>

</html>